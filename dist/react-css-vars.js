'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactDom=require('react-dom');var _Classes=require('./classes/Classes');var _Classes2=_interopRequireDefault(_Classes);var _Attrs=require('./classes/Attrs');var _Attrs2=_interopRequireDefault(_Attrs);var _utils=require('./utils');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}exports.default=function(WrappedComponent,updater){for(var _len=arguments.length,updaterArgs=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){updaterArgs[_key-2]=arguments[_key]}WrappedComponent=(0,_utils.isObject)(WrappedComponent)?(0,_utils.create)(WrappedComponent):WrappedComponent;if(!(0,_utils.isObject)(updater)&&!(0,_utils.isFunction)(updater))return WrappedComponent;// updater = {}
var component=function(_Component){_inherits(component,_Component);function component(){_classCallCheck(this,component);return _possibleConstructorReturn(this,(component.__proto__||Object.getPrototypeOf(component)).apply(this,arguments))}_createClass(component,[{key:'componentDidMount',value:function componentDidMount(){this.css.apply(this,[updater].concat(updaterArgs))}},{key:'componentDidUpdate',value:function componentDidUpdate(){this.css.apply(this,[updater].concat(updaterArgs))}},{key:'css',value:function css(updater){for(var _len2=arguments.length,updaterArgs=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){updaterArgs[_key2-1]=arguments[_key2]}var $=(0,_reactDom.findDOMNode)(this);if(!$)return;var _$={classes:new((0,_Classes2.default)($)),attrs:new((0,_Attrs2.default)($))};var args=[this.props,_$];updaterArgs=updaterArgs.map(function(arg){return _utils.get.apply(null,[arg].concat(_toConsumableArray(args)))});args=[].concat(_toConsumableArray(args),_toConsumableArray(updaterArgs));var vars=_utils.get.apply(null,[updater].concat(_toConsumableArray(args)));if(!(0,_utils.isObject)(vars))return;for(var v in vars){var got=_utils.get.apply(null,[vars[v]].concat(_toConsumableArray(args)));if(v!=='$'){$.style.setProperty((0,_utils.name)(v),got)}}}},{key:'render',value:function render(){return _react2.default.createElement(WrappedComponent,this.props)}}]);return component}(_react.Component);component.displayName='RCV('+(0,_utils.getDisplayName)(WrappedComponent)+')';return component};